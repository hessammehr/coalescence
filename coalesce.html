<!DOCTYPE html>
<html>
<head>
	<title>Frequency Coalescence</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="d3.v3.min.js" charset="utf-8"></script>
	<script src="fft-asm.js" charset="utf-8"></script>
	<script src="fft-asm-noasm.js" charset="utf-8"></script>
	<script src="fft-asm-lib.js" charset="utf-8"></script>
	<script src="gen-utils.js" charset="utf-8"></script>
	<script src="plot-utils.js" charset="utf-8"></script>
</head>
<body>
	<script type="text/javascript" charset="utf-8">



	// plot(result, -400, 400, "mag");
	const N = 16384;
	var spins = [];
	for (var i = 0; i < 256; i++) {
		spins.push(gen(1, 3, 0.0001, 0.005));
		spins.push(gen(6, 8, 0.001, 0.005));
		spins.push(gen(11, 13, 0.01, 0.005));
		spins.push(gen(16, 18, 0.1, 0.005));
		spins.push(gen(21, 23, 1, 0.005));
	}

	var a = axes("n", "fft_mag", true);
	var g = map(spec(continuous(add.apply(null, spins), N), N), function(a) { return a.slice(0, N/32); });
	// var g = map(continuous(add.apply(null, spins), N), function(a) { return a.slice(0, N/2); });
	console.log("Done");
	monitor(g, a, 30);
</script>
</body>
</html>
